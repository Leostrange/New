# Как добавить свою модель перевода

Этот документ описывает процесс добавления новой модели перевода в Mr.Comic.

## Требования к модели

1. Модель должна быть совместима с форматом Hugging Face Transformers
2. Модель должна быть оптимизирована для работы на мобильных устройствах
3. Модель должна иметь лицензию, разрешающую её использование в приложении

## Шаги по добавлению модели

1. Создайте папку с уникальным именем в директории `local_translation_models/`
   - Имя папки должно быть в формате snake_case и отражать название модели
   - Например: `en_ru_comic_v1`, `jp_en_manga_v2`

2. Добавьте следующие файлы модели:
   - `config.json` - конфигурация модели
   - `pytorch_model.bin` - веса модели
   - `tokenizer.json` - токенизатор
   - `vocab.json` (если требуется) - словарь токенизатора
   - `special_tokens_map.json` (если требуется) - карта специальных токенов

3. Убедитесь, что модель соответствует следующим требованиям:
   - Размер модели не превышает 100 МБ (для мобильных устройств)
   - Модель оптимизирована для работы на CPU
   - Модель поддерживает пакетную обработку текста

4. Добавьте файл `metadata.json` с информацией о модели:
   ```json
   {
     "name": "Название модели",
     "version": "1.0.0",
     "author": "Ваше имя",
     "description": "Краткое описание модели",
     "source_language": "en",
     "target_language": "ru",
     "model_type": "translation",
     "framework": "pytorch",
     "size_mb": 50,
     "quantized": true,
     "license": "MIT",
     "tags": ["comics", "manga", "optimized"]
   }
   ```

5. Протестируйте модель локально перед отправкой

6. Оформите Pull Request в основной репозиторий

## Оптимизация модели

Для оптимизации модели для мобильных устройств рекомендуется:

1. Использовать квантизацию (int8 или float16)
2. Уменьшить количество слоёв и размерность модели
3. Использовать дистилляцию знаний для создания меньшей модели
4. Оптимизировать модель с помощью ONNX Runtime или TensorFlow Lite

## Проверка и утверждение

После отправки Pull Request, ваша модель будет проверена командой Mr.Comic на соответствие требованиям качества и производительности. Мы можем запросить изменения перед принятием вашей модели в основной репозиторий.

## Вопросы и поддержка

Если у вас возникли вопросы или вам нужна помощь с созданием модели, пожалуйста, создайте Issue в репозитории или свяжитесь с нами по электронной почте support@mrcomic.example.com.

