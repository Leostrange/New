---
description: 
globs: 
alwaysApply: false
---
PROJECT RULES ‚Äî Mr.Comic + Cursor
üìê –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç
‚úÖ –ß—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è Cursor:
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª—é—á–µ–≤—ã–µ entry-—Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞: LibraryScanner.kt, ReaderEngine.kt, OCRManager.kt, PluginSystem.kt

–ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –≤ .cursor/config.json –ø–∞–ø–∫–∏ —Å –∫–æ–¥–æ–º:

json
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
{
  "pinned": [
    "core",
    "modules/reader",
    "modules/ocr",
    "modules/plugins",
    "modules/ui"
  ]
}
–í –æ–ø–∏—Å–∞–Ω–∏–∏ –º–æ–¥—É–ª–µ–π –≤ .md/Javadoc –¥–æ–±–∞–≤–∏—Ç—å:

cpp
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
// @CursorHint: Follows Clean Architecture ‚Äî domain/usecase/presentation separation
üß© –ö–∞—Å–∫–∞–¥–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
–î–ª—è –º–Ω–æ–≥–æ—Å–ª–æ–π–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π:

–ì–µ–Ω–µ—Ä–∏—Ä—É–π –∫–ª–∞—Å—Å—ã –æ—Ç domain —Å–ª–æ—è

–ó–∞—Ç–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã/–≤–Ω–µ–¥—Ä–µ–Ω–∏—è –≤ data

–¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ ‚Äî viewmodel –∏–ª–∏ ui

üî¨ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤
–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ —à–∞–±–ª–æ–Ω:

bash
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
Generate UnitTest for OCRPostProcessor in test/ocr/
Use Mockk, assertk, and runBlockingTest
–í—Å–µ auto-generated —Ç–µ—Å—Ç—ã ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è —Ä—É—á–Ω–∞—è –ø—Ä–∞–≤–∫–∞ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º

üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å
AI-–∑–∞–ø—Ä–æ—Å—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –≤–∫–ª—é—á–∞—Ç—å:

API –∫–ª—é—á–∏

–°–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥–∏ (.env, keystore, .json)

–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã Cursor-—É –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã –ø—É–±–ª–∏—á–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏ –ø—Ä–æ–µ–∫—Ç–∞

‚öôÔ∏è CI/CD –∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
–ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–µ –¥–æ–ª–∂–Ω—ã –Ω–∞—Ä—É—à–∞—Ç—å:

GitHub Actions pipeline (build, test, lint)

–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å —Å Figma Roadmap / UI tokens

–°—Ç–∞–Ω–¥–∞—Ä—Ç—ã roadmap 99.9% (OCR accuracy, plugin API versioning –∏ –¥—Ä.)

üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è
–í –∫–∞–∂–¥—ã–π Merge Request, –≥–¥–µ —É—á–∞—Å—Ç–≤–æ–≤–∞–ª Cursor:

–£–∫–∞–∑–∞–Ω–∏–µ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏: #via-cursor

–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤–∏–¥–∞:

kotlin
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
// generated with Cursor (prompt: "Add support for multi-page CBZ archives")
üì¶ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π .cursor/config.json (–ø—Ä–∏–º–µ—Ä)
json
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
{
  "pinned": [
    "modules/reader",
    "modules/library",
    "modules/ocr",
    "modules/plugins",
    "modules/export",
    "modules/annotation"
  ],
  "excluded": [
    "build",
    ".gradle",
    "tests/manual"
  ],
  "rules": {
    "max_tokens": 4096,
    "contextual_generation": true,
    "require_review_before_commit": true
  }
}