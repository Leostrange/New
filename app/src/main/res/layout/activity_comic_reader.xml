<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".ComicReaderActivity">

    <!-- Заменяем ImageView на PDFView -->
    <com.github.barteksc.pdfviewer.PDFView
        android:id="@+id/pdfView"
        android:layout_width="0dp"
        android:layout_height="0dp"
        app:layout_constraintTop_toTopOf="parent"
        app:layout_constraintBottom_toTopOf="@+id/navigationControlsLayout"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintEnd_toEndOf="parent" />

    <!-- Этот ImageView оставляем для CBZ и других форматов, но делаем его GONE по умолчанию,
         так как PDF будет основным новым случаем. Либо управлять видимостью из кода.
         Для начала, пусть PDFView будет основным, а ImageView будет управляться из кода, если нужен.
         Или, чтобы избежать конфликта ID, если он был pageImageView, можно его временно закомментировать
         или удалить, если уверены, что PDFView его полностью заменяет для всех случаев, что не так.

         Лучше дать PDFView новый ID, а старый ImageView оставить и управлять видимостью.
         Нет, план был заменить. Значит, ImageView удаляется, а PDFView занимает его место.
         Но PDFView только для PDF. Значит, нам нужны ОБА, и мы управляем их видимостью.

         Пересмотренный подход:
         Оставим ImageView для CBZ. Добавим PDFView. Управляем их видимостью из кода.
         Дадим PDFView ID "pdfView", а ImageView оставим с ID "pageImageView".
    -->
    <ImageView
        android:id="@+id/pageImageView"
        android:layout_width="0dp"
        android:layout_height="0dp"
        android:scaleType="fitCenter"
        android:visibility="gone"
        app:layout_constraintTop_toTopOf="parent"
        app:layout_constraintBottom_toTopOf="@+id/navigationControlsLayout"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintEnd_toEndOf="parent"
        tools:srcCompat="@tools:sample/backgrounds/scenic" />

    <ProgressBar
        android:id="@+id/pageLoadingProgressBar"
        style="?android:attr/progressBarStyle"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:visibility="gone"
        app:layout_constraintTop_toTopOf="@id/pageImageView"
        app:layout_constraintBottom_toBottomOf="@id/pageImageView"
        app:layout_constraintStart_toStartOf="@id/pageImageView"
        app:layout_constraintEnd_toEndOf="@id/pageImageView" />

    <androidx.constraintlayout.widget.ConstraintLayout
        android:id="@+id/navigationControlsLayout"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:padding="8dp"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintEnd_toEndOf="parent">

        <Button
            android:id="@+id/prevPageButton"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Previous"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            app:layout_constraintBottom_toBottomOf="parent" />

        <TextView
            android:id="@+id/pageInfoTextViewReader"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:textSize="16sp"
            android:textStyle="bold"
            app:layout_constraintTop_toTopOf="parent"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintStart_toEndOf="@id/prevPageButton"
            app:layout_constraintEnd_toStartOf="@id/nextPageButton"
            tools:text="1 / 150" />

        <Button
            android:id="@+id/nextPageButton"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Next"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            app:layout_constraintBottom_toBottomOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</androidx.constraintlayout.widget.ConstraintLayout>
