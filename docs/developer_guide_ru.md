# Руководство разработчика Mr.Comic

## Содержание

1. [Введение](#введение)
2. [Архитектура системы](#архитектура-системы)
3. [Структура проекта](#структура-проекта)
4. [Основные компоненты](#основные-компоненты)
5. [API системы](#api-системы)
6. [Разработка плагинов](#разработка-плагинов)
7. [Сборка и тестирование](#сборка-и-тестирование)
8. [Процесс контрибьюции](#процесс-контрибьюции)

## Введение

Это руководство предназначено для разработчиков, которые хотят внести свой вклад в проект Mr.Comic или разрабатывать плагины для него. Оно описывает архитектуру системы, структуру проекта, основные компоненты и API.

## Архитектура системы

Mr.Comic построен на модульной архитектуре, что обеспечивает гибкость и расширяемость. Основные слои архитектуры:

1.  **Ядро (Core)**: Основная логика приложения, управление проектами, базовые операции.
2.  **Модули (Modules)**: Функциональные блоки, такие как OCR, перевод, редактирование.
3.  **Интеграция (Integration)**: Компоненты, обеспечивающие взаимодействие между модулями.
4.  **Интерфейс пользователя (UI)**: Графический интерфейс, построенный с использованием [Framework Name, e.g., Electron + React/Vue/Angular].
5.  **API плагинов (Plugin API)**: Интерфейс для взаимодействия плагинов с системой.

## Структура проекта

```
mrcomic/
├── docs/                 # Документация
├── src/                  # Исходный код
│   ├── core/             # Ядро системы
│   ├── modules/          # Функциональные модули (ocr, translation, editor)
│   ├── integration/      # Интеграционные компоненты
│   ├── ui/               # Компоненты пользовательского интерфейса
│   ├── plugins/          # Система плагинов и API
│   ├── debug/            # Утилиты отладки
│   ├── optimization/     # Компоненты оптимизации
│   └── main.js           # Точка входа приложения
├── tests/                # Модульные и интеграционные тесты
├── resources/            # Ресурсы (иконки, шрифты)
├── build/                # Скрипты сборки
├── package.json          # Зависимости и скрипты Node.js
├── README.md             # Основной README проекта
└── LICENSE               # Лицензия проекта
```

## Основные компоненты

### Ядро (src/core/)

-   **ProjectManager**: Управление проектами (создание, открытие, сохранение).
-   **PageManager**: Управление страницами проекта.
-   **LayerManager**: Управление слоями на странице.
-   **HistoryManager**: Система отмены/повтора действий.
-   **SettingsManager**: Управление настройками приложения.

### Модули (src/modules/)

-   **OCRModule**: Интеграция с различными движками OCR.
-   **TranslationModule**: Интеграция с сервисами перевода.
-   **EditorModule**: Основные инструменты редактирования текста и изображений.

### Интеграция (src/integration/)

-   **OCREditorIntegration**: Связь между OCR и редактором.
-   **TranslationEditorIntegration**: Связь между переводом и редактором.
-   **PluginEditorIntegration**: Связь между плагинами и редактором.
-   **UnifiedEditorInterface**: Единый интерфейс для управления интеграциями.

### Оптимизация (src/optimization/)

-   **PerformanceOptimizer**: Мониторинг и оптимизация производительности.
-   **ResourceManager**: Управление использованием памяти и ресурсов.

### Отладка (src/debug/)

-   **DebugUtils**: Утилиты для логирования и диагностики.
-   **ErrorHandler**: Централизованная обработка ошибок.
-   **BugFixRegistry**: Реестр исправлений.

## API системы

Подробное описание API доступно в [API Reference](api_reference_ru.md).

## Разработка плагинов

Подробное руководство по разработке плагинов доступно в [Plugin Development Guide](plugin_development_ru.md).

## Сборка и тестирование

### Установка зависимостей

```bash
npm install
```

### Запуск в режиме разработки

```bash
npm run dev
```

### Запуск тестов

```bash
npm test
```

### Сборка приложения

```bash
npm run build
```

## Процесс контрибьюции

1.  **Форк репозитория**: Создайте форк основного репозитория.
2.  **Создание ветки**: Создайте новую ветку для вашей фичи или исправления (`git checkout -b feature/my-new-feature`).
3.  **Внесение изменений**: Реализуйте вашу фичу или исправление.
4.  **Тестирование**: Убедитесь, что все тесты проходят.
5.  **Коммит**: Сделайте коммит ваших изменений (`git commit -am 'Add some feature'`).
6.  **Push**: Отправьте изменения в ваш форк (`git push origin feature/my-new-feature`).
7.  **Pull Request**: Создайте Pull Request в основной репозиторий.

Пожалуйста, следуйте [стилю кода](CODE_STYLE.md) проекта и предоставляйте тесты для новых функций.
