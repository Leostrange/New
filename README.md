# Mr.Comic: Многофункциональный Просмотрщик Комиксов, Манги и Книг

Mr.Comic — это передовое приложение для просмотра комиксов, манги и книг, разработанное с акцентом на инновационные технологии и удобство пользователя. Проект интегрирует мощные возможности оптического распознавания символов (OCR) и перевода, позволяя пользователям наслаждаться контентом на любом языке. Благодаря модульной архитектуре и поддержке широкого спектра форматов, Mr.Comic является идеальным решением для любителей комиксов и манги по всему миру.

## Ключевые возможности

### 1. Расширенная поддержка форматов

Mr.Comic обеспечивает бесшовное чтение контента в различных форматах, включая:

-   **Комиксы и Манга**: Поддержка CBZ, CBR, ZIP, RAR, 7z с обработкой вложенных папок и Unicode-путей.
-   **PDF**: Высокопроизводительный рендеринг больших PDF-файлов с интеллектуальным кэшированием страниц и автоматической очисткой кэша. Включает поддержку защищённых PDF с паролем и fallback-стратегии.
-   **EPUB**: Расширенная поддержка EPUB-файлов, включая обнаружение и анализ мультимедийного контента (видео, аудио, интерактивные элементы).
-   **Изображения**: Поддержка современных форматов изображений, таких как WebP, AVIF и HEIC/HEIF, с автоматическим fallback для старых устройств.

### 2. Интеллектуальное распознавание текста (OCR)

Приложение оснащено мощным движком OCR, способным извлекать текст из изображений комиксов и манги, включая стилизованные шрифты. Ключевые особенности:

-   **Модульная архитектура**: Гибкая система плагинов позволяет легко добавлять и переключаться между различными OCR-движками (например, Tesseract, PaddleOCR, EasyOCR, TrOCR).
-   **Продвинутая предобработка**: Коррекция перспективы, шумов и сегментация панелей для повышения точности распознавания.
-   **Распознавание рукописного текста**: Поддержка распознавания рукописного текста.
-   **Детекция облачков речи**: Автоматическое определение и экспорт координат текстовых областей в облачках речи.

### 3. Многоязычный перевод

Mr.Comic предлагает комплексные решения для перевода текста, извлеченного с помощью OCR:

-   **Локальный (офлайн) перевод**: Интеграция с локальными нейросетевыми моделями (например, small100, M2M-100, NLLB) для быстрого и конфиденциального перевода без подключения к интернету.
-   **Онлайн-перевод**: Возможность подключения к внешним API-сервисам перевода (например, Google Translate, DeepL) для получения высококачественных переводов.
-   **Словари и глоссарии**: Использование настраиваемых JSON-словарей (pre, ocr, post) и глоссариев для коррекции перевода, обеспечения точности специфических терминов и имен.
-   **Translation Memory**: Хранение пар "оригинал-перевод" для повышения эффективности и согласованности перевода.
-   **Fallback перевод**: Автоматическое переключение на базовый словарный перевод, если основная нейросетевая модель недоступна.

### 4. Визуальное наложение и стилизация

Приложение позволяет накладывать переведенный текст непосредственно на изображения, сохраняя при этом оригинальный стиль комикса:

-   **Удаление оригинального текста**: Использование техник Inpainting с OpenCV для удаления исходного текста.
-   **Автоподбор шрифта**: Автоматический подбор шрифта, поддержка вертикального текста, кернинга и выравнивания.
-   **Стилизация текста**: Применение эффектов, таких как градиент, тень, обводка, для имитации мультяшного стиля.
-   **Экспорт**: Возможность экспорта итогового изображения в PNG с настройками качества и размера.

### 5. Умная библиотека и управление контентом

Mr.Comic включает функции для организации и управления вашей коллекцией:

-   **База данных**: Использование Room-базы для хранения метаданных комиксов.
-   **Сканирование и парсинг метаданных**: Автоматическое сканирование папок и извлечение метаданных.
-   **ML-жанры**: Детекция жанров с использованием FastText и MobileNetV2 (для обложек).
-   **Поиск**: Полнотекстовый поиск по OCR-тексту, поиск по цветовой палитре.
-   **Автогруппировка серий**: Автоматическая группировка комиксов по сериям.

### 6. Интерфейс и кастомизация

Приложение предлагает интуитивно понятный и настраиваемый пользовательский интерфейс:

-   **Темы**: Поддержка светлой, тёмной и Material You тем.
-   **Настраиваемые панели инструментов**: Перетаскиваемые панели инструментов с сохранением конфигурации.
-   **Поддержка шрифтов**: Расширенная поддержка TTF/OTF/Google Fonts, Emoji и сложных скриптов.
-   **Адаптивный UI**: Оптимизация для планшетов и складных устройств.
-   **Доступность**: Поддержка TalkBack, Voice Access и масштабирования.

### 7. Расширяемость и плагины

Mr.Comic разработан с учетом расширяемости, позволяя пользователям и разработчикам создавать собственные плагины:

-   **Интерфейсы плагинов**: Четко определенные интерфейсы для OCRPlugin, TranslatePlugin, FormatHandler.
-   **Sandbox-изоляция**: Изолированная среда для безопасного выполнения плагинов.
-   **Менеджер плагинов**: UI для установки, удаления и управления плагинами.
-   **SDK и документация**: Шаблоны SDK и документация для разработчиков плагинов.
-   **Каталог плагинов**: Встроенный магазин для поиска и установки плагинов.

## Быстрый старт

1.  **Клонируйте репозиторий:**
    ```bash
    git clone https://github.com/Leostrange/Mr.Comic.git
    cd Mr.Comic
    ```

2.  **Установите зависимости:**
    ```bash
    # Для Python-компонентов (если применимо)
    pip install -r requirements.txt
    # Для Android-проекта, используйте Gradle
    ```

3.  **Сборка и запуск:**
    Следуйте инструкциям в файлах `build.gradle` для сборки Android-проекта. Запустите приложение на эмуляторе или физическом устройстве.

## Структура проекта

Подробное описание структуры проекта, файлов и их назначения находится в папке `docs/`.

## Вклад

Мы приветствуем вклад в развитие Mr.Comic. Пожалуйста, ознакомьтесь с нашими рекомендациями по внесению вклада (CONTRIBUTING.md - *будет добавлен*).

## Лицензия

Этот проект распространяется под лицензией MIT. Подробности см. в файле LICENSE (будет добавлен).





